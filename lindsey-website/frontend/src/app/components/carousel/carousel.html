<p>carousel works!</p>

@if (featuredArtworks().length > 0) {
  <section
    class="featured-slider"
    (mouseenter)="onSliderMouseEnter()"
    (mouseleave)="onSliderMouseLeave()"
    aria-label="Featured artwork slideshow">

    <h2 class="section-title">Featured Artwork</h2>

    <div class="carousel-container">
      <!-- Previous Button -->
      <button
        mat-icon-button
        (click)="prevSlide()"
        class="carousel-nav prev"
        aria-label="Previous artwork">
        <mat-icon>chevron_left</mat-icon>
      </button>

      <!-- Carousel Track -->
      <div class="carousel-track">
        @for (artwork of featuredArtworks(); track artwork.id; let i = $index) {
          <div
            class="carousel-item"
            [class.active]="currentSlideIndex() === i"
            [class.prev]="isPrevSlide(i)"
            [class.next]="isNextSlide(i)"
            [class.hidden]="!isVisibleSlide(i)"
            (click)="onCarouselItemClick(i, artwork)"
            (keydown.enter)="onCarouselItemClick(i, artwork)"
            tabindex="0"
            role="button"
            [attr.aria-label]="'View ' + artwork.title">

            @if (currentSlideIndex() === i) {
              <img
                ngSrc="{{ getSmallImageUrl(artwork) }}"
                [alt]="artwork.title"
                class="carousel-image"
                [width]="artwork.smallImageWidth"
                [height]="artwork.smallImageHeight"
              />
            } @else {
              <img
                ngSrc="{{ getSmallImageUrl(artwork) }}"
                [alt]="artwork.title"
                class="carousel-image"
                [width]="artwork.smallImageWidth"
                [height]="artwork.smallImageHeight"
              />
            }

            @if (currentSlideIndex() === i) {
              <div class="carousel-overlay">
                <h3 class="carousel-title">{{ artwork.title }}</h3>
                <p class="carousel-medium">{{ artwork.medium }}</p>
              </div>
            }
          </div>
        }
      </div>

      <!-- Next Button -->
      <button
        mat-icon-button
        (click)="nextSlide()"
        class="carousel-nav next"
        aria-label="Next artwork">
        <mat-icon>chevron_right</mat-icon>
      </button>
    </div>

    <!-- Slide Indicators -->
    <div class="slider-indicators" role="tablist">
      @for (artwork of featuredArtworks(); track artwork.id; let i = $index) {
        <button
          (click)="goToSlide(i)"
          [class.active]="currentSlideIndex() === i"
          [attr.aria-selected]="currentSlideIndex() === i"
          class="indicator"
          type="button"
          role="tab"
          [attr.aria-label]="'Go to ' + artwork.title">
        </button>
      }
    </div>
  </section>
}
