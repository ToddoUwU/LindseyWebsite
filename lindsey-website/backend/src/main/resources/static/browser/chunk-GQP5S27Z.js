import{a as m}from"./chunk-7WAB7BOO.js";import{a as u}from"./chunk-RTWJG5FV.js";import{M as n,Q as d,U as l,k as a,ka as i,u as c,x as s}from"./chunk-N6L6HR5L.js";var p=[{id:1,artworkId:1,artworkTitle:"Sunset Over Mountains",artworkImageUrl:"https://picsum.photos/600/800?random=101",description:"8x10 Art Print",productCategory:"Print",productUrl:"https://printify.com/app/products/sunset-mountains-print",price:25,isAvailable:!0,displayOrder:1},{id:2,artworkId:1,artworkTitle:"Sunset Over Mountains",artworkImageUrl:"https://picsum.photos/600/800?random=101",description:"16x20 Canvas Print",productCategory:"Canvas",productUrl:"https://printify.com/app/products/sunset-mountains-canvas",price:85,isAvailable:!0,displayOrder:2},{id:3,artworkId:2,artworkTitle:"Ocean Dreams",artworkImageUrl:"https://picsum.photos/800/600?random=102",description:"11x14 Art Print",productCategory:"Print",productUrl:"https://printify.com/app/products/ocean-dreams-print",price:35,isAvailable:!0,displayOrder:1},{id:4,artworkId:1,artworkTitle:"Sunset Over Mountains",description:"Coffee Mug - 11oz",productCategory:"Mug",productUrl:"https://printify.com/app/products/sunset-mountains-mug",price:18,isAvailable:!0,displayOrder:10,productImageUrl:"https://picsum.photos/600/600?random=108"},{id:5,artworkId:4,artworkTitle:"Abstract Harmony",description:"Unisex T-Shirt",productCategory:"Apparel",productUrl:"https://printify.com/app/products/abstract-harmony-tshirt",price:32,isAvailable:!0,displayOrder:10,productImageUrl:"https://picsum.photos/600/700?random=104"},{id:6,artworkId:2,artworkTitle:"Ocean Dreams",description:"Tote Bag",productCategory:"Accessories",productUrl:"https://printify.com/app/products/ocean-dreams-tote",price:28,isAvailable:!0,displayOrder:10,productImageUrl:"https://picsum.photos/600/600?random=107"},{id:7,artworkId:3,artworkTitle:"Spring Blossoms",description:"Throw Pillow - 18x18",productCategory:"Home Decor",productUrl:"https://printify.com/app/products/spring-blossoms-pillow",price:35,isAvailable:!0,displayOrder:10,productImageUrl:"https://picsum.photos/600/600?random=109"},{id:8,artworkId:6,artworkTitle:"City Lights",description:"Phone Case",productCategory:"Accessories",productUrl:"https://printify.com/app/products/city-lights-phone-case",price:25,isAvailable:!0,displayOrder:10,productImageUrl:"https://picsum.photos/500/700?random=106"},{id:9,artworkId:8,artworkTitle:"Autumn Reflections",description:"24x36 Framed Print",productCategory:"Print",productUrl:"https://printify.com/app/products/autumn-reflections-framed",price:120,isAvailable:!0,displayOrder:3},{id:10,artworkId:4,artworkTitle:"Abstract Harmony",description:"Shower Curtain",productCategory:"Home Decor",productUrl:"https://printify.com/app/products/abstract-harmony-curtain",price:65,isAvailable:!0,displayOrder:10,productImageUrl:"https://picsum.photos/600/800?random=110"}],g=["Print","Canvas","Mug","Apparel","Accessories","Home Decor"],U=(()=>{class o{constructor(r){this.http=r,this.shopPageData=i(null),this.loading=i(!1),this.error=i(null),this.selectedCategory=i(null),this.apiUrl=m.apiUrl}getShopPageData(){return this.loading.set(!0),this.error.set(null),c({products:this.http.get(`${this.apiUrl}/products`),categories:this.http.get(`${this.apiUrl}/products/categories`)}).pipe(n(r=>{this.shopPageData.set(r),this.loading.set(!1),console.log("\u2705 Loaded shop page data:",r)}),s(r=>{console.warn("\u26A0\uFE0F Backend not available, using mock data:",r.message);let t={products:p.filter(e=>e.isAvailable),categories:g};return this.shopPageData.set(t),this.loading.set(!1),this.error.set(null),console.log("\u2705 Using mock data:",t),a(t)}))}getProductsByArtworkId(r){return this.http.get(`${this.apiUrl}/products/artwork/${r}`).pipe(s(t=>(console.warn("\u26A0\uFE0F Using mock products for artwork:",r),a(p.filter(e=>e.artworkId===r&&e.isAvailable)))))}getProductsByCategory(r){return this.http.get(`${this.apiUrl}/products/category/${encodeURIComponent(r)}`).pipe(s(t=>(console.warn("\u26A0\uFE0F Using mock products for category:",r),a(p.filter(e=>e.productCategory.toLowerCase()===r.toLowerCase()&&e.isAvailable)))))}getProductCategories(){return this.http.get(`${this.apiUrl}/products/categories`).pipe(s(r=>(console.warn("\u26A0\uFE0F Using mock categories"),a(g))))}filterByCategory(r,t){return t?r.filter(e=>e.productCategory.toLowerCase()===t.toLowerCase()):r}getCategoryDisplayName(r){return{print:"Prints",canvas:"Canvas Prints",mug:"Mugs",apparel:"Apparel",accessories:"Accessories","home decor":"Home Decor",original:"Originals"}[r.toLowerCase()]||r}getCategoryIcon(r){return{print:"image",canvas:"panorama",mug:"coffee",apparel:"checkroom",accessories:"shopping_bag","home decor":"home",original:"palette"}[r.toLowerCase()]||"category"}getProductImageUrl(r){return r.productImageUrl||r.artworkImageUrl||""}setSelectedCategory(r){this.selectedCategory.set(r)}clearError(){this.error.set(null)}static{this.\u0275fac=function(t){return new(t||o)(l(u))}}static{this.\u0275prov=d({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{U as a};
