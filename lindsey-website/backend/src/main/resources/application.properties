# ============================================================
# Application Configuration
# ALL CREDENTIALS MUST BE PROVIDED VIA ENVIRONMENT VARIABLES
# DO NOT ADD DEFAULT VALUES FOR SENSITIVE DATA
# ============================================================

# Server Configuration
server.port=${SERVER_PORT:8443}

# TLS/SSL Configuration
server.ssl.enabled=${SERVER_SSL_ENABLED:true}
server.ssl.key-store=${SERVER_SSL_KEY_STORE}
server.ssl.key-store-password=${SERVER_SSL_KEY_STORE_PASSWORD}
server.ssl.key-store-type=${SERVER_SSL_KEY_STORE_TYPE:PKCS12}
server.ssl.key-alias=${SERVER_SSL_KEY_ALIAS:lindsey-website}

# PostgreSQL - NO DEFAULTS (must be provided via env vars)
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection Pool (HikariCP)
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.connection-timeout=20000

# Spring Cache Configuration (uses Caffeine in-memory cache)
spring.cache.type=caffeine

# JPA / Hibernate Configuration
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:validate}
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.open-in-view=false
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:false}

# Hibernate Second-Level Cache - DISABLED (using Spring Cache with Caffeine instead)
spring.jpa.properties.hibernate.cache.use_second_level_cache=false
spring.jpa.properties.hibernate.cache.use_query_cache=false

# Hibernate Statistics (useful for debugging)
spring.jpa.properties.hibernate.generate_statistics=${HIBERNATE_STATISTICS:false}

# Image serving configuration
spring.web.resources.static-locations=classpath:/static/,classpath:/Images/
spring.web.resources.cache.cachecontrol.max-age=31536000
spring.web.resources.cache.cachecontrol.cache-public=true

# Logging
logging.level.com.lindseyayresart=${LOG_LEVEL:INFO}
logging.level.org.hibernate.SQL=${SQL_LOG_LEVEL:WARN}

